# DirectoryIndex file1.html
# Options -Indexes

# 前方一致のためリダイレクトループに注意
# Redirect /apache/redirect-test /apache

# Redirect 301 /apache/file1 /apache/dir-test/file2.html

# RewriteEngine On
# 相対パス internal redirect
# RewriteRule rewrite-test/index.html /apache/rewrite-test/tmp.html [R]
# RewriteRule rewrite-test/index.html http://localhost:8888/apache/rewrite-test/tmp.html
# RewriteRule rewrite-test/index.html - [L]
# RewriteCond %{HTTP_HOST} ^localhost
# RewriteRule .? - [F]
# RewriteRule rewrite-test/imgs/(.+).jpg /apache/rewrite-test/imgs/$1.png
# RewriteRule rewrite-test/sub1/ /apache/rewrite-test/sub2/
# RewriteBase /apache/rewrite-test/
# RewriteRule rewrite-test/sub1/(.+\.html) sub2/$1 [R]

# RewriteCond %{QUERY_STRING} p=(.+)&?
# RewriteRule rewrite-test/sub1 sub1/%1? [R]

# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteRule rewrite-test/sub2/(.+) sub1/$1

# RewriteRule rewrite-test/(.+).html $1.php


# RewriteCond /Applications/MAMP/htdocs/fullstack-webdev-master/070_Apacheの基礎/rewrite-test/sub2/$1 -f [OR]
# RewriteCond /Applications/MAMP/htdocs/fullstack-webdev-master/070_Apacheの基礎/rewrite-test/sub2/$1 -d
# RewriteRule rewrite-test/sub1/(.*) sub2/$1 [R]

# AddType image/webp .webp
# RewriteCond /Applications/MAMP/htdocs/fullstack-webdev-master/070_Apacheの基礎/rewrite-test/imgs/$1.webp -f
# RewriteRule /?imgs/(.*)\.(jpe?g|png) imgs/$1.webp

# wwwを削除
RewriteCond %{HTTP_HOST} ^www\.dev\.local [NC]
RewriteRule .? http://dev.local:8888%{REQUEST_URI} [R=301]

# rewrite-test/vhostディレクトリをvhost.dev.localとする。
RewriteCond %{HTTP_HOST} ^vhost\.dev\.local [NC]
RewriteCond %{REQUEST_URI} !^/apache/rewrite-test/vhost/
RewriteRule (.*) vhost/$1

<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/css text/javascript
</IfModule>

<IfModule mod_expires.c>
  ExpiresActive On
  <FilesMatch "\.(png|jpe?g|gif|css|js|html)$">
    ExpiresDefault "access plus 6 months"
  </FilesMatch>
</IfModule>

FileETag None